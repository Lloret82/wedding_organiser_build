{"version":3,"sources":["components/landing/newimages/helena-lopes-Vrb_vtQAxJU-unsplash.jpg","components/landing/newimages/coplerunning.png","components/landing/newimages/hearts.png","components/landing/newimages/cake2.png","components/landing/newimages/flowers.png","utils/queries.js","utils/mutations.js","utils/auth.js","components/createwedding/createwedding.form.jsx","components/Guests.js","utils/partycontext.js","components/Home.js","components/createuser.jsx","lib/magic.js","lib/UserContext.js","components/email-form.js","components/login.js","components/landing/landing.page.jsx","components/countdown/Clock.component.jsx","components/countdown/Count.component.jsx","components/viewwedding/viewwedding.page.jsx","gl.jpg","rose.png","loc.jpg","clock.jpg","components/GuestLanding.js","components/items.js","components/Nav3.jsx","App.js","reportWebVitals.js","index.js"],"names":["WEDDING_QUERY","gql","GUEST_QUERY","LOGIN_USER","ADD_USER","ADD_GUESTS","ADD_WEDDING","UPDATE_RSVP","UPDATE_MENU","decode","this","getToken","token","organiser","getUser","isTokenExpired","exp","Date","now","localStorage","removeItem","getItem","localUser","JSON","parse","idToken","newuser","setItem","stringify","window","location","assign","useStyles","makeStyles","theme","root","margin","spacing","button","CreateWedding","classes","useState","brideFirstName","brideLastName","groomFirstName","groomLastName","venue","weddingDate","menuChoices","inputFields","setInputField","currentUser","setCurrentUser","setCurrentID","useEffect","Auth","loggedIn","console","log","username","_id","useMutation","addWedding","handleSubmit","error","e","a","preventDefault","variables","bride_first_name","bride_last_name","groom_first_name","groom_last_name","date","menu_choice","wedding_owner","data","handleChangeInput","index","event","target","name","values","value","Container","className","onSubmit","map","inputField","TextField","label","onChange","Button","vareient","color","type","onClick","endIcon","Icon","service","process","REACT_APP_SERVICE_ID","template","REACT_APP_TEMPLATE_ID","user","REACT_APP_USER_ID","Guests","email","rsvp","menu","currentID","addGuests","i","length","handleAddField","handleRemoveField","splice","sendEmail","params","emailjs","send","then","res","alert","catch","err","useQuery","loading","guests","filteredGuestList","filter","guest","IconButton","PartyContext","createContext","usePartyContext","useContext","PartyProvider","children","setOrganiser","Provider","height","image","backgroundRepeat","backgroundColor","palette","grey","backgroundSize","backgroundPosition","paper","display","flexDirection","alignItems","avatar","secondary","main","form","width","marginTop","submit","SignIn","password","userFormData","setUserFormData","login","handleInputChange","handleFormSubmit","Grid","container","component","CssBaseline","item","xs","sm","md","Paper","elevation","square","Avatar","Typography","variant","noValidate","required","fullWidth","id","autoFocus","Box","mt","backgroundImage","addUser","magic","Magic","UserContext","EmailForm","onEmailSubmit","disabled","setEmail","placeholder","size","prefix","Login","history","useHistory","setDisabled","setUser","auth","loginWithMagicLink","redirectURI","URL","origin","href","didToken","fetch","method","headers","Authorization","status","getMetadata","userMetadata","issuer","push","styles","fontFamily","textAlign","insideStyles","padding","position","fontSize","top","left","transform","paragraphStyle","borderRadius","image1","require","default","image2","image3","image4","image5","Landing","bgImage","strength","style","blur","min","max","renderLayer","percentage","background","Clock","deadline","days","setDays","hours","setHours","minutes","setMinutes","seconds","setSeconds","leading0","num","getTimeUntil","time","Math","floor","setInterval","CountDown","props","Callback","weddingData","weddings","wedding","marginBottom","GuestLanding","rsvpState","setRsvpState","menuState","setMenuState","searchWedding","guestEmail","update_rsvp","update_menu","correctGuest","correctWedding","groom","bride","weddingdate","handleSubmitFood","src","gl","for","vlaue","loc","clock","MenuItems","url","cName","couplelogout","logout","guestlogout","Nav2","state","clicked","handleClick","setState","kew","function","Component","httpLink","createHttpLink","uri","authLink","setContext","_","authorization","client","ApolloClient","link","concat","cache","InMemoryCache","App","partycontext","isLoggedIn","userData","ApolloProvider","Nav3","exact","path","Home","ViewWedding","createuser","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.344cbbd9.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/helena-lopes-Vrb_vtQAxJU-unsplash.7d88f2df.jpg\";","export default __webpack_public_path__ + \"static/media/coplerunning.b4122b28.png\";","export default __webpack_public_path__ + \"static/media/hearts.16c27cb5.png\";","export default __webpack_public_path__ + \"static/media/cake2.39671096.png\";","export default __webpack_public_path__ + \"static/media/flowers.a870abbe.png\";","import { gql } from \"@apollo/client\"\n\nexport const WEDDING_QUERY = gql`\n\t{\n\t\tweddings {\n\t\t\t_id\n\t\t\tbride_first_name\n\t\t\tbride_last_name\n\t\t\tgroom_first_name\n\t\t\tgroom_last_name\n\t\t\tdate\n\t\t\tvenue\n\t\t\twedding_owner\n\t\t\tmenu_choice\n\t\t}\n\t}\n`\nexport const QUERY_ME = gql`\n\t{\n\t\tme {\n\t\t\t_id\n\t\t\tusername\n\t\t\temail\n\t\t\twedding\n\t\t}\n\t}\n`\n\nexport const ORG_QUERY = gql`\n\tquery finduser($userId: String) {\n\t\tuser(userId: $userId){\n\t\t\tusername\n\t\t\t_id\n\t\t\t\n\t\t\t\t\t\t\n\t\t}\n\t}\n`\n\nexport const GUEST_QUERY = gql`\nquery getGuests{\n\tguests{\n\t\tname\n\t\temail\n\t\trsvp\n\t\tmenu\n\t\t_id\n\t\twedding_owner\n\t}\n}\n`\n\n","import { gql } from \"@apollo/client\"\n\nexport const LOGIN_USER = gql`\n\tmutation login($email: String!, $password: String!) {\n\t\tlogin(email: $email, password: $password) {\n\t\t\ttoken\n\t\t\tuser {\n\t\t\t\t_id\n\t\t\t\tusername\n\t\t\t}\n\t\t}\n\t}\n`\n\nexport const ADD_USER = gql`\n\tmutation addUser(\n\t\t$username: String!\n\t\t$email: String!\n\t\t$password: String!\n\t) {\n\t\taddUser(\n\t\t\tusername: $username\n\t\t\temail: $email\n\t\t\tpassword: $password\n\t\t) {\n\t\t\ttoken\n\t\t\tuser {\n\t\t\t\t_id\n\t\t\t\tusername\n\t\t\t}\n\t\t}\n\t}\n`\n\nexport const ADD_GUESTS = gql`\n\tmutation addGuests(\n\t\t$name: String!\n\t\t$email: String!\n\t\t$rsvp: String!\n\t\t$menu: String!\n\t\t$wedding_owner: String!\n\t) {\n\t\taddGuests(\n\t\t\tname: $name\n\t\t\temail: $email\n\t\t\trsvp: $rsvp\n\t\t\tmenu: $menu\n\t\t\twedding_owner: $wedding_owner\n\t\t)\n\t\t{\n\t\t\tname \n\t\t\t}\n\t\t}\n\t\n`\nexport const ADD_WEDDING = gql`\nmutation addWedding ( \n\t$bride_first_name: String\n    $bride_last_name: String\n\t$groom_first_name: String\n\t$groom_last_name: String\n\t$date: String\n\t$venue: String\n\t$menu_choice: [String]\n\t$wedding_owner: String\n)\n{ addWedding(bride_first_name: $bride_first_name, bride_last_name: $bride_last_name, groom_first_name: $groom_first_name, groom_last_name: $groom_last_name, date: $date, venue: $venue, menu_choice: $menu_choice, wedding_owner: $wedding_owner)\n{\n\tbride_first_name\n}\n}\n\n`\n\n\nexport const UPDATE_RSVP = gql`\nmutation update_rsvp (\n\t$rsvp:String, $email:String\n){\n\tupdate_rsvp(rsvp: $rsvp, email:$email)\n\t{\n\t\tname\n\t}\n}\n`\n\nexport const UPDATE_MENU= gql`\nmutation update_menu(\n\t$menu:String, $email:String)\n\t{\n\t\tupdate_menu(menu:$menu, email:$email)\n\t\t{\n\t\t\tname\n\t\t}\n\t}\n\n\n`","import decode from \"jwt-decode\"\n\nclass AuthService {\n\tgetProfile() {\n\t\treturn decode(this.getToken())\n\t}\n\n\tloggedIn() {\n\t\tconst token = this.getToken()\n\t\tconst organiser = this.getUser()\n\t\treturn {\n\t\t\ttoken:\n\t\t\t\ttoken && !this.isTokenExpired(token) ? true : false,\n\t\t\torganiser: organiser,\n\t\t}\n\t}\n\n\tisTokenExpired(token) {\n\t\t// Decode the token to get its expiration time that was set by the server\n\t\tconst decoded = decode(token)\n\t\t// If the expiration time is less than the current time (in seconds), the token is expired and we return `true`\n\t\tif (decoded.exp < Date.now() / 1000) {\n\t\t\tlocalStorage.removeItem(\"id_token\")\n\t\t// TODO added this line to make sure if the user is logged out the data is removed\n\t\t\tlocalStorage.removeItem(\"user\")\n\t\t\treturn true\n\t\t}\n\t\t// If token hasn't passed its expiration time, return `false`\n\t\treturn false\n\t}\n\n\tgetToken() {\n\t\treturn localStorage.getItem(\"id_token\")\n\t}\n\n\tgetUser() {\n\t\tconst localUser = localStorage.getItem(\"user\")\n\t\tconst organiser = JSON.parse(localUser)\n\t\treturn organiser\n\t}\n\n\tlogin(idToken, newuser) {\n\t\tlocalStorage.setItem(\"id_token\", idToken)\n\t\tlocalStorage.setItem(\"user\", JSON.stringify(newuser))\n\t\twindow.location.assign(\"/\")\n\t}\n\n\tlogout() {\n\t\tlocalStorage.removeItem(\"id_token\")\n\t\t// TODO added this line to make sure if the user is logged out the data is removed\n\t\tlocalStorage.removeItem(\"user\")\n\t\twindow.location.assign(\"/\")\n\t}\n}\n\nexport default new AuthService()\n","import React, { useState, useEffect } from \"react\"\nimport Container from \"@material-ui/core/Container\"\nimport TextField from \"@material-ui/core/TextField\"\nimport Button from \"@material-ui/core/Button\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport RemoveIcon from \"@material-ui/icons/Remove\"\nimport AddIcon from \"@material-ui/icons/Add\"\nimport Icon from \"@material-ui/core/Icon\"\nimport emailjs from \"emailjs-com\"\nimport { WEDDING_QUERY } from \"../../utils/queries\"\nimport { useMutation } from \"@apollo/client\"\nimport { ADD_WEDDING } from \"../../utils/mutations\"\nimport Auth from \"../../utils/auth\"\n\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport (\"./createwedding.css\")\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\t\"& .MuiTextField-root\": {\n\t\t\tmargin: theme.spacing(1),\n\t\t},\n\t},\n\n\tbutton: {\n\t\tmargin: theme.spacing(1),\n\t},\n}))\n\nfunction CreateWedding() {\n\tconst classes = useStyles()\n\tconst [inputFields, setInputField] = useState([\n\t\t{\n\t\t\tbrideFirstName: \"\",\n\t\t\tbrideLastName: \"\",\n\t\t\tgroomFirstName: \"\",\n\t\t\tgroomLastName: \"\",\n\t\t\tvenue: \"\",\n\t\t\tweddingDate: \"\",\n\t\t\tmenuChoices: \"\",\n\t\t},\n\t])\n\tconst [organiserState, setOrganiserSate] = useState(null)\n\tconst [currentUser, setCurrentUser] = useState(null)\n\tconst [ currentID, setCurrentID] = useState(null)\n\tuseEffect(() => {\n\t\tconst { organiser } = Auth.loggedIn()\n\t\tconsole.log(\n\t\t\t\"this is the organiser from local storage\",\n\t\t\torganiser\n\t\t)\n\t\tsetCurrentUser(organiser.username)\n\t\tsetCurrentID(organiser._id)\n\t}, [])\n\tconst [addWedding, {error}] = useMutation(ADD_WEDDING)\n\n\tconst handleSubmit = async (e) => {\n\t\te.preventDefault()\n\t\t// console.log(\"input fields\", inputFields)\n\t\tlet i = 0\n\t\ttry{\n\t\t\tconst { data } = await addWedding({variables:{\n\t\t\t\tbride_first_name:inputFields[i].bride_first_name,\n\t\t\t\tbride_last_name:inputFields[i].bride_last_name,\n\t\t\t\tgroom_first_name:inputFields[i].groom_first_name,\n\t\t\t\tgroom_last_name:inputFields[i].groom_last_name,\n\t\t\t\tvenue:inputFields[i].venue,\n\t\t\t\tdate:inputFields[i].date,\n\t\t\t\tmenu_choice:inputFields[i].menu_choice,\n\t\t\t\twedding_owner:currentUser\n\t\t\t\n\t\t}})\n\t\twindow.location.assign(\"/viewwedding\")\n\t\tconsole.log(data)\n\n\t} catch(err){\n\t\tconsole.log (err)}\n\t}\n\n\t\n\n\tconst handleChangeInput = (index, event) => {\n\t\tconsole.log(index, event.target.name)\n\t\tconst values = [...inputFields]\n\t\tvalues[index][event.target.name] = event.target.value\n\t\tsetInputField(values)\n\t}\n\n\t// const handleAddField = () => {\n\t// \tsetInputField([\n\t// \t\t...inputFields,\n\t// \t\t{\n\t// \t\t\tfirstName: \"\",\n\t// \t\t\tlastName: \"\",\n\t// \t\t\temail: \"\",\n\t// \t\t\trsvp: \"\",\n\t// \t\t\tmenue: \"\",\n\t// \t\t},\n\t// \t])\n\t// }\n\n\t// const handleRemoveField = (index) => {\n\t// \tconst values = [...inputFields]\n\t// \tvalues.splice(index, 1)\n\t// \tsetInputField(values)\n\t// }\n\n\treturn (\n\t\t<Container className=\"bigcontainer\">\n\t\t\t<h1 className=\"heading\"> Fill in your wedding details</h1>\n\t\t\t<form\n\t\t\t\tclassName={classes.root}\n\t\t\t\tonSubmit={handleSubmit}\n\t\t\t>\n\t\t\t\t{inputFields.map((inputField, index) => (\n\t\t\t\t\t<div key={index}>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tname=\"bride_first_name\"\n\t\t\t\t\t\t\t\tlabel=\"Bride's First Name\"\n\t\t\t\t\t\t\t\tvalue={inputField.bride_first_name}\n\t\t\t\t\t\t\t\tonChange={(event) =>\n\t\t\t\t\t\t\t\t\thandleChangeInput(index, event)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tname=\"bride_last_name\"\n\t\t\t\t\t\t\t\tlabel=\"Bride's Last Name\"\n\t\t\t\t\t\t\t\tvalue={inputField.bride_last_name}\n\t\t\t\t\t\t\t\tonChange={(event) =>\n\t\t\t\t\t\t\t\t\thandleChangeInput(index, event)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tname=\"groom_first_name\"\n\t\t\t\t\t\t\t\tlabel=\"Groom's First Name\"\n\t\t\t\t\t\t\t\tvalue={inputField.groom_first_name}\n\t\t\t\t\t\t\t\tonChange={(event) =>\n\t\t\t\t\t\t\t\t\thandleChangeInput(index, event)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tname=\"groom_last_name\"\n\t\t\t\t\t\t\t\tlabel=\"Groom's Last Name\"\n\t\t\t\t\t\t\t\tvalue={inputField.groom_last_name}\n\t\t\t\t\t\t\t\tonChange={(event) =>\n\t\t\t\t\t\t\t\t\thandleChangeInput(index, event)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t    <TextField\n    \t\t\t\t\t\t\tname=\"venue\"\n    \t\t\t\t\t\t\tlabel=\"Wedding Venue\"\n    \t\t\t\t\t\t\tvalue={inputField.venue}\n    \t\t\t\t\t\t\tonChange={(event) =>\n    \t\t\t\t\t\t\t\thandleChangeInput(index, event)\n    \t\t\t\t\t\t\t}\n    \t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n                        <div>\n\t\t\t\t\t\t    <TextField\n    \t\t\t\t\t\t\tname=\"date\"\n    \t\t\t\t\t\t\tlabel=\"Wedding Date\"\n    \t\t\t\t\t\t\tvalue={inputField.date}\n    \t\t\t\t\t\t\tonChange={(event) =>\n    \t\t\t\t\t\t\t\thandleChangeInput(index, event)\n    \t\t\t\t\t\t\t}\n    \t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tname=\"menu_choice\"\n\t\t\t\t\t\t\tlabel=\"Menu Choices\"\n\t\t\t\t\t\t\tvalue={inputField.menu_choice}\n\t\t\t\t\t\t\tonChange={(event) =>\n\t\t\t\t\t\t\t\thandleChangeInput(index, event)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t{/* \n                   <IconButton\n                   onClick={()=> handleRemoveField(index)}>\n                       <RemoveIcon />\n                   </IconButton>\n                   <IconButton\n                   onClick={() => handleAddField()}>\n                       <AddIcon />\n                   </IconButton> */}\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\t\t\t\t<Button\n\t\t\t\t\tclassName={classes.button}\n\t\t\t\t\tvareient=\"contained\"\n\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\tonClick={handleSubmit}\n\t\t\t\t\tendIcon={<Icon>favorite</Icon>}\n\t\t\t\t>\n\t\t\t\t\tcreate your wedding\n\t\t\t\t</Button>\n\t\t\t</form>\n\t\t</Container>\n\t)\n}\n\nexport default CreateWedding\n","import React, { useState, useEffect } from \"react\"\nimport Container from \"@material-ui/core/Container\"\nimport TextField from \"@material-ui/core/TextField\"\nimport Button from \"@material-ui/core/Button\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport RemoveIcon from \"@material-ui/icons/Remove\"\nimport AddIcon from \"@material-ui/icons/Add\"\nimport Icon from \"@material-ui/core/Icon\"\nimport emailjs from \"emailjs-com\"\nimport Auth from \"../utils/auth\"\nimport {\n\tWEDDING_QUERY,\n\tGUEST_QUERY,\n} from \"../utils/queries\"\nimport { ADD_GUESTS } from \"../utils/mutations\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport { useQuery, useMutation } from \"@apollo/client\"\n\nconst service = process.env.REACT_APP_SERVICE_ID\nconst template = process.env.REACT_APP_TEMPLATE_ID\nconst user = process.env.REACT_APP_USER_ID\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\t\"& .MuiTextField-root\": {\n\t\t\tmargin: theme.spacing(1),\n\t\t},\n\t},\n\n\tbutton: {\n\t\tmargin: theme.spacing(1),\n\t},\n}))\n\nfunction Guests() {\n\tconst classes = useStyles()\n\n\tconst [inputFields, setInputField] = useState([\n\t\t{ name: \"\", email: \"\", rsvp: \"\", menu: \"\" },\n\t])\n\n\tconst [organiserState, setOrganiserState] = useState(null)\n\tconst [currentUser, setCurrentUser] = useState(null)\n\tconst [currentID, setCurrentID] = useState(null)\n\tconst [brideFirstName, setBrideFirstName] = useState(null)\n\tconst [groomFirstName, setGroomFirstName] = useState(null)\n\tconst [weddingWhen, setWeddingWhen] = useState(null)\n\tconst [weddingVenue, setWeddingVenue] = useState(null)\n\n\tuseEffect(() => {\n\t\tconst { organiser } = Auth.loggedIn()\n\t\tconsole.log(\n\t\t\t\"this is the organiser from local storage\",\n\t\t\torganiser\n\t\t)\n\t\tsetCurrentUser(organiser.username)\n\t\tsetCurrentID(organiser._id)\n\t}, [])\n\n\tconst [addGuests, { error }] = useMutation(ADD_GUESTS)\n\n\t// this is the section to fetch wedding data to populate in emails\n\n\t// \tconst weddingResults = useQuery(WEDDING_QUERY)\n\t// \tconsole.log(\n\t// \t\t\"the data from the BANANA is \",\n\t// \t\tweddingResults.data\n\t// \t)\n\t// \t const weddingData = weddingResults.data.weddings.filter((wedding) => {\n\t// \t// // \tconst weddingID = \"61110f69077f5da76492affa\"\n\t// \t\treturn wedding.wedding_owner == currentUser\n\t// \t})\n\t// \tconsole.log(\"this is the filtered wedding\", weddingData)\n\t// setBrideFirstName(weddingData[0].bride_first_name)\n\t// console.log(\"the bride is ..... ::\",brideFirstName)\n\n\t// handle the submit form\n\tconst handleSubmit = async (e) => {\n\t\te.preventDefault()\n\n\t\tlet i\n\t\tfor (i = 0; i < inputFields.length; i++) {\n\t\t\tconsole.log(\"i=\", i, \"input= \", inputFields[i])\n\t\t\ttry {\n\t\t\t\tconst { data } = await addGuests({\n\t\t\t\t\tvariables: {\n\t\t\t\t\t\tname: inputFields[i].name,\n\t\t\t\t\t\temail: inputFields[i].email,\n\t\t\t\t\t\trsvp: inputFields[i].rsvp,\n\t\t\t\t\t\tmenu: inputFields[i].menu,\n\t\t\t\t\t\twedding_owner: currentUser,\n\t\t\t\t\t},\n\t\t\t\t})\n\n\t\t\t\tconsole.log(data)\n\t\t\t} catch (err) {\n\t\t\t\tconsole.log(err)\n\t\t\t}\n\t\t}\n\t}\n\n\tconst handleChangeInput = (index, event) => {\n\t\tconsole.log(index, event.target.name)\n\t\tconst values = [...inputFields]\n\t\tvalues[index][event.target.name] = event.target.value\n\t\tsetInputField(values)\n\t}\n\n\tconst handleAddField = () => {\n\t\tsetInputField([\n\t\t\t...inputFields,\n\t\t\t{\n\t\t\t\tname: \"\",\n\t\t\t\temail: \"\",\n\t\t\t\trsvp: \"\",\n\t\t\t\tmenu: \"\",\n\t\t\t},\n\t\t])\n\t}\n\n\tconst handleRemoveField = (index) => {\n\t\tconst values = [...inputFields]\n\t\tvalues.splice(index, 1)\n\t\tsetInputField(values)\n\t}\n\n\tfunction sendEmail(index) {\n\t\t// function to send email to each guest based on their index in the table\n\t\tconst values = [...inputFields]\n\t\tconst email = values[index].email\n\t\tconst name = values[index].name\n\n\t\tconst params = {\n\t\t\tname: name,\n\t\t\temail: email,\n\t\t}\n\n\t\temailjs\n\t\t\t.send(service, template, params, user)\n\t\t\t.then((res) => {\n\t\t\t\tconsole.log(res)\n\t\t\t\talert(\"email sent thank you\")\n\t\t\t})\n\t\t\t.catch((err) => console.log(err))\n\t}\n\n\tconsole.log(\"this is the current user\", currentUser)\n\n\tconst { loading, data } = useQuery(GUEST_QUERY)\n\tif (loading) {\n\t\treturn <p>Loading ....</p>\n\t}\n\n\tconsole.log(\"the guest list is\", data.guests)\n\n\tconst filteredGuestList = data.guests.filter((guest) => {\n\t\treturn guest.wedding_owner == currentUser\n\t})\n\n\tconsole.log(\n\t\t\"the filtered guest list is\",\n\t\tfilteredGuestList\n\t)\n\n\treturn (\n\t\t<Container>\n\t\t\t<h1> Your Guest List</h1>\n\t\t\t<p> my test user id is</p>\n\t\t\t<p>the organiser is {currentUser} </p>\n\t\t\t<p> the user id is {currentID}</p>\n\n\t\t\t<form\n\t\t\t\tclassName={classes.root}\n\t\t\t\t\n\t\t\t>\n\t\t\t\t{filteredGuestList.map((guest, index) => (\n\t\t\t\t\t<div key={index}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\tlabel=\"Guest Name\"\n\t\t\t\t\t\t\tvalue={guest.name}\n\t\t\t\t\t\t\tonChange={(event) =>\n\t\t\t\t\t\t\t\thandleChangeInput(index, event)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\tlabel=\"Email\"\n\t\t\t\t\t\t\tvalue={guest.email}\n\t\t\t\t\t\t\tonChange={(event) =>\n\t\t\t\t\t\t\t\thandleChangeInput(index, event)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tname=\"rsvp\"\n\t\t\t\t\t\t\tlabel=\"RSVP\"\n\t\t\t\t\t\t\tvalue={guest.rsvp}\n\t\t\t\t\t\t\tonChange={(event) =>\n\t\t\t\t\t\t\t\thandleChangeInput(index, event)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tname=\"menu\"\n\t\t\t\t\t\t\tlabel=\"Menu Choice\"\n\t\t\t\t\t\t\tvalue={guest.menu}\n\t\t\t\t\t\t\tonChange={(event) =>\n\t\t\t\t\t\t\t\thandleChangeInput(index, event)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tclassName={classes.button}\n\t\t\t\t\t\t\tvareient=\"contained\"\n\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\tonClick={(event) => sendEmail(index)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tSend email\n\t\t\t\t\t\t</Button>\n\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\tonClick={() => handleRemoveField(index)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<RemoveIcon />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t<IconButton onClick={() => handleAddField()}>\n\t\t\t\t\t\t\t<AddIcon />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\t\t\t\t{/* <Button \n            className={classes.button}\n            vareient=\"contained\" \n            color=\"secondary\" \n            type=\"submit\" \n            onClick={handleSubmit}\n            endIcon={<Icon>save</Icon>}>\n                Save Guest List\n                </Button> */}\n\n\t\t\t\t{/* </form> */}\n\t\t\t\t{/* <form className={classes.root} onSubmit={handleSubmit}> */}\n\t\t\t\t{inputFields.map((inputField, index) => (\n\t\t\t\t\t<div key={index}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\tlabel=\"Guest Name\"\n\t\t\t\t\t\t\tvalue={inputField.name}\n\t\t\t\t\t\t\tonChange={(event) =>\n\t\t\t\t\t\t\t\thandleChangeInput(index, event)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\tlabel=\"Email\"\n\t\t\t\t\t\t\tvalue={inputField.email}\n\t\t\t\t\t\t\tonChange={(event) =>\n\t\t\t\t\t\t\t\thandleChangeInput(index, event)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tname=\"rsvp\"\n\t\t\t\t\t\t\tlabel=\"RSVP\"\n\t\t\t\t\t\t\tvalue={inputField.rsvp}\n\t\t\t\t\t\t\tonChange={(event) =>\n\t\t\t\t\t\t\t\thandleChangeInput(index, event)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tname=\"menu\"\n\t\t\t\t\t\t\tlabel=\"Menu Choice\"\n\t\t\t\t\t\t\tvalue={inputField.menu}\n\t\t\t\t\t\t\tonChange={(event) =>\n\t\t\t\t\t\t\t\thandleChangeInput(index, event)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tclassName={classes.button}\n\t\t\t\t\t\t\tvareient=\"contained\"\n\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\tonClick={(event) => sendEmail(index)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tSend email\n\t\t\t\t\t\t</Button>\n\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\tonClick={() => handleRemoveField(index)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<RemoveIcon />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t<IconButton onClick={() => handleAddField()}>\n\t\t\t\t\t\t\t<AddIcon />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\t\t\t\t<Button\n\t\t\t\t\tclassName={classes.button}\n\t\t\t\t\tvareient=\"contained\"\n\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\tonClick={handleSubmit}\n\t\t\t\t\tendIcon={<Icon>save</Icon>}\n\t\t\t\t>\n\t\t\t\t\tSave Guest List\n\t\t\t\t</Button>\n\t\t\t</form>\n\t\t</Container>\n\t)\n}\n\nexport default Guests","import React,{createContext, useContext, useState} from \"react\"\n\n\nexport const PartyContext = createContext(null);\n\n\nexport const usePartyContext = () => useContext(PartyContext);\n\nexport const PartyProvider =({children}) =>{\n\n const [ organiser, setOrganiser] = useState(null) \n \n \n return (\n     <PartyContext.Provider value={{organiser, setOrganiser}}>\n         {children}\n     </PartyContext.Provider>\n )\n\n}\n\n","import React, {\n\tuseEffect,\n\tuseState,\n\tuseContext,\n} from \"react\"\nimport Avatar from \"@material-ui/core/Avatar\"\nimport Button from \"@material-ui/core/Button\"\nimport CssBaseline from \"@material-ui/core/CssBaseline\"\nimport TextField from \"@material-ui/core/TextField\"\nimport Paper from \"@material-ui/core/Paper\"\nimport Box from \"@material-ui/core/Box\"\nimport Grid from \"@material-ui/core/Grid\"\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\"\nimport Typography from \"@material-ui/core/Typography\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport { useMutation } from \"@apollo/client\"\nimport { LOGIN_USER } from \"../utils/mutations\"\nimport Auth from \"../utils/auth\"\nimport { usePartyContext } from \"../utils/partycontext\"\n\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\theight: \"100vh\",\n\t},\n\timage: {\n\t\t\n\t\t\n\t\tbackgroundRepeat: \"no-repeat\",\n\t\tbackgroundColor:\n\t\t\ttheme.palette.type === \"light\"\n\t\t\t\t? theme.palette.grey[50]\n\t\t\t\t: theme.palette.grey[900],\n\t\tbackgroundSize: \"cover\",\n\t\tbackgroundPosition: \"center\",\n\t},\n\tpaper: {\n\t\tmargin: theme.spacing(8, 4),\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\talignItems: \"center\",\n\t},\n\tavatar: {\n\t\tmargin: theme.spacing(1),\n\t\tbackgroundColor: theme.palette.secondary.main,\n\t},\n\tform: {\n\t\twidth: \"100%\",\n\t\tmarginTop: theme.spacing(1),\n\t},\n\tsubmit: {\n\t\tmargin: theme.spacing(3, 0, 2),\n\t},\n}))\n\nexport default function SignIn() {\n\tconst classes = useStyles()\n\n\tconst { organiser, setOrganiser } = usePartyContext()\n\n\t// console.log(\"first set of organisers=\" , organiser)\n\n\tconst [userFormData, setUserFormData] = useState({\n\t\temail: \"\",\n\t\tpassword: \"\",\n\t})\n\n\tconst [login, { error, data }] = useMutation(LOGIN_USER)\n\n\tconst handleInputChange = (event) => {\n\t\tconst { name, value } = event.target\n\t\tsetUserFormData({ ...userFormData, [name]: value })\n\t\tsetOrganiser(value)\n\t\t// console.log(\"data is\", userFormData)\n\t}\n\n\tconst handleFormSubmit = async (event) => {\n\t\tevent.preventDefault()\n\t\t// console.log(\"the form data is\", userFormData)\n\n\t\t// const form = event.currentTarget;\n\t\t// if (form.checkValidity()===false){\n\t\t//   event.preventDefault();\n\t\t//   event.stopPropagation();\n\t\t// }\n\t\ttry {\n\t\t\tconst { data } = await login({\n\t\t\t\tvariables: { ...userFormData },\n\t\t\t})\n\t\t\tconst newuser = data.login.user\n\t\t\tconsole.log(\"the new user is \", newuser)\n\t\t\tsetOrganiser(newuser)\n\t\t\t// console.log(\"the organiser state is \", organiser)\n\t\t\t// console.log(\n\t\t\t// \t\"this is the data coming back from the login\",\n\t\t\t// \tdata\n\t\t\t// )\n\n\t\t\tAuth.login(data.login.token, newuser)\n\t\t} catch (e) {\n\t\t\tconsole.error(e)\n\t\t}\n\n\t\tsetUserFormData({\n\t\t\temail: \"\",\n\t\t\tpassword: \"\",\n\t\t})\n\t}\n\n\treturn (\n\t\t<Grid\n\t\t\tcontainer\n\t\t\tcomponent=\"main\"\n\t\t\tclassName={classes.root}\n\t\t>\n\t\t\t<CssBaseline />\n\t\t\t<Grid\n\t\t\t\titem\n\t\t\t\txs={false}\n\t\t\t\tsm={4}\n\t\t\t\tmd={7}\n\t\t\t\tclassName={classes.image}\n\t\t\t/>\n\t\t\t<Grid\n\t\t\t\titem\n\t\t\t\txs={12}\n\t\t\t\tsm={8}\n\t\t\t\tmd={5}\n\t\t\t\tcomponent={Paper}\n\t\t\t\televation={6}\n\t\t\t\tsquare\n\t\t\t>\n\t\t\t\t<div className={classes.paper}>\n\t\t\t\t\t<Avatar className={classes.avatar}>\n\t\t\t\t\t\t<LockOutlinedIcon />\n\t\t\t\t\t</Avatar>\n\t\t\t\t\t<Typography component=\"h1\" variant=\"h5\">\n\t\t\t\t\t\tSign in\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<form\n\t\t\t\t\t\tclassName={classes.form}\n\t\t\t\t\t\tnoValidate\n\t\t\t\t\t\tonSubmit={handleFormSubmit}\n\t\t\t\t\t>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tid=\"email\"\n\t\t\t\t\t\t\tlabel=\"Email Address\"\n\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\tvalue={userFormData.email}\n\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\tlabel=\"Password\"\n\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\tid=\"password\"\n\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\tvalue={userFormData.password}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tclassName={classes.submit}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tSign In\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Grid container></Grid>\n\t\t\t\t\t\t<Box mt={5}></Box>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t</Grid>\n\t\t</Grid>\n\t)\n}","import React, {\n\tuseEffect,\n\tuseState,\n\tuseContext,\n} from \"react\"\nimport Avatar from \"@material-ui/core/Avatar\"\nimport Button from \"@material-ui/core/Button\"\nimport CssBaseline from \"@material-ui/core/CssBaseline\"\nimport TextField from \"@material-ui/core/TextField\"\nimport Paper from \"@material-ui/core/Paper\"\nimport Box from \"@material-ui/core/Box\"\nimport Grid from \"@material-ui/core/Grid\"\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\"\nimport Typography from \"@material-ui/core/Typography\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport { useMutation } from \"@apollo/client\"\nimport { ADD_USER } from \"../utils/mutations\"\nimport Auth from \"../utils/auth\"\n// import { usePartyContext } from \"../utils/partycontext\"\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\theight: \"100vh\",\n\t},\n\timage: {\n\t\tbackgroundImage:\n\t\t\t`url(\"./jeremy-wong-weddings-K8KiCHh4WU4-unsplash.jpg\")`,\n\t\tbackgroundRepeat: \"no-repeat\",\n\t\tbackgroundColor:\n\t\t\ttheme.palette.type === \"light\"\n\t\t\t\t? theme.palette.grey[50]\n\t\t\t\t: theme.palette.grey[900],\n\t\tbackgroundSize: \"cover\",\n\t\tbackgroundPosition: \"center\",\n\t},\n\tpaper: {\n\t\tmargin: theme.spacing(8, 4),\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\talignItems: \"center\",\n\t},\n\tavatar: {\n\t\tmargin: theme.spacing(1),\n\t\tbackgroundColor: theme.palette.secondary.main,\n\t},\n\tform: {\n\t\twidth: \"100%\",\n\t\tmarginTop: theme.spacing(1),\n\t},\n\tsubmit: {\n\t\tmargin: theme.spacing(3, 0, 2),\n\t},\n}))\n\nexport default function SignIn() {\n\tconst classes = useStyles()\n\n\t// const { organiser, setOrganiser } = usePartyContext()\n\n\t// console.log(\"first set of organisers=\" , organiser)\n\n\tconst [userFormData, setUserFormData] = useState({\n\t\tusername: \"\",\n        email: \"\",\n\t\tpassword: \"\",\n\t})\n\n    const [addUser,{error}] = useMutation(ADD_USER)\n\t// const [login, { error, data }] = useMutation(LOGIN_USER)\n\n\tconst handleInputChange = (event) => {\n\t\tconst { name, value } = event.target\n\t\tsetUserFormData({ ...userFormData, [name]: value })\n\t\t// setOrganiser(value)\n\t\t// console.log(\"data is\", userFormData)\n\t}\n\n\tconst handleFormSubmit = async (event) => {\n\t\tevent.preventDefault()\n\t\tconsole.log(\"the form data is\", userFormData)\n\n\t\ttry{\n            const {data} = await addUser({\n                variables:{...userFormData}\n            })\n            window.location.assign(\"/home\")\n        } catch (error){\n            console.log(error)\n        }\n\t\t\n\n\t\t// setUserFormData({\n\t\t// \tusername: \"\",\n        //     email: \"\",\n\t\t// \tpassword: \"\",\n\t\t// })\n\t}\n\n\treturn (\n\t\t<Grid\n\t\t\tcontainer\n\t\t\tcomponent=\"main\"\n\t\t\tclassName={classes.root}\n\t\t>\n\t\t\t<CssBaseline />\n\t\t\t<Grid\n\t\t\t\titem\n\t\t\t\txs={false}\n\t\t\t\tsm={4}\n\t\t\t\tmd={7}\n\t\t\t\tclassName={classes.image}\n\t\t\t/>\n\t\t\t<Grid\n\t\t\t\titem\n\t\t\t\txs={12}\n\t\t\t\tsm={8}\n\t\t\t\tmd={5}\n\t\t\t\tcomponent={Paper}\n\t\t\t\televation={6}\n\t\t\t\tsquare\n\t\t\t>\n\t\t\t\t<div className={classes.paper}>\n\t\t\t\t\t<Avatar className={classes.avatar}>\n\t\t\t\t\t\t<LockOutlinedIcon />\n\t\t\t\t\t</Avatar>\n\t\t\t\t\t<Typography component=\"h1\" variant=\"h5\">\n\t\t\t\t\t\tCreate a new account\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<form\n\t\t\t\t\t\tclassName={classes.form}\n\t\t\t\t\t\tnoValidate\n\t\t\t\t\t\tonSubmit={handleFormSubmit}\n\t\t\t\t\t>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tid=\"username\"\n\t\t\t\t\t\t\tlabel=\"User Name\"\n\t\t\t\t\t\t\tname=\"username\"\n\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\tvalue={userFormData.username}\n\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t/>\n                        \n                        \n                        <TextField\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tid=\"email\"\n\t\t\t\t\t\t\tlabel=\"Email Address\"\n\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\tvalue={userFormData.email}\n\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\tlabel=\"Password\"\n\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\tid=\"password\"\n\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\tvalue={userFormData.password}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tclassName={classes.submit}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tSign UP\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Grid container></Grid>\n\t\t\t\t\t\t<Box mt={5}></Box>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t</Grid>\n\t\t</Grid>\n\t)\n}","import { Magic } from 'magic-sdk';\n\n\nexport const magic = new Magic(process.env.REACT_APP_MAGIC_KEY);","import { createContext } from 'react';\n\nexport const UserContext = createContext(null);","import { useState } from 'react';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\nconst useStyles = makeStyles((theme) => ({\n    button: {\n      margin: theme.spacing(1),\n    },\n  }));\n  \nconst EmailForm = ({ onEmailSubmit, disabled }) => {\n    const [email, setEmail] = useState('');\n    const classes = useStyles();\n    console.log(\"email is:    \", email)\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        onEmailSubmit(email);\n        localStorage.setItem(\"guestEmail\", email)\n    };\n\n    return (\n        <>\n            <form onSubmit={handleSubmit}>\n                <h3 className='form-header'>Login</h3>\n                <div className='input-wrapper'>\n                    <input\n                        placeholder='Enter your email'\n                        size='sm'\n                        value={email}\n                        onChange={(e) => setEmail(e.target.value)}\n                        prefix={<div type='' size={23} color={'#000'} />}\n                    />\n                </div>\n                <div>\n                    <Button\n                    type= \"submit\"\n                    variant=\"contained\"\n                    color=\"default\"\n                    className={classes.button}\n                    >\n                        Send Magic Link\n                    </Button>\n                </div>\n            </form>\n            <style>{`\n        form,\n        label {\n          display: flex;\n          flex-flow: column;\n          text-align: center;\n        }\n        .form-header {\n          font-size: 22px;\n          margin: 25px 0;\n        }\n        .input-wrapper {\n          width: 80%;\n          margin: 0 auto 20px;\n        }\n        \n      `}</style>\n        </>\n    );\n};\n\nexport default EmailForm;","import { useState, useEffect, useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { magic } from '../lib/magic';\nimport { UserContext } from '../lib/UserContext';\nimport EmailForm from './email-form';\nimport SocialLogins from './social-logins';\n\nconst Login = () => {\n  const history = useHistory();\n  const [disabled, setDisabled] = useState(false);\n  const [user, setUser] = useContext(UserContext);\n\n  // If user is already logged in, redirect to profile page\n  useEffect(() => {\n    user && user.issuer && history.push('/login');\n  }, [user, history]);\n\n  async function handleLoginWithEmail(email) {\n    try {\n      setDisabled(true); // disable login button to prevent multiple emails from being triggered\n\n      // Trigger Magic link to be sent to user\n      let didToken = await magic.auth.loginWithMagicLink({\n        email,\n        redirectURI: new URL('/guestlanding', window.location.origin).href,\n        \n         // optional redirect back to your app after magic link is clicked\n        })\n      // console.log(\"email is:   \",email);\n      // f,unction store (email) {localStorage.setItem(\"guestEmail\", email)}\n      \n\n      // Validate didToken with server\n      const res = await fetch(`${process.env.REACT_APP_MAGIC_KEY}/api/login`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + didToken,\n        },\n      });\n\n      if (res.status === 200) {\n        // Set the UserContext to the now logged in user\n        let userMetadata = await magic.user.getMetadata();\n        await setUser(userMetadata);\n        // history.push('/profile');\n      }\n    } catch (error) {\n      setDisabled(false); // re-enable login button - user may have requested to edit their email\n      console.log(error);\n    }\n  }\n\n  async function handleLoginWithSocial(provider) {\n    await magic.oauth.loginWithRedirect({\n      provider,\n      redirectURI: new URL('/callback', window.location.origin).href, // required redirect to finish social login\n    });\n  }\n\n  return (\n    <>\n      <div className='login'>\n        <EmailForm disabled={disabled} onEmailSubmit={handleLoginWithEmail} />\n        \n      </div>\n      <style>{`\n        .login {\n          max-width: 20rem;\n          margin: 40px auto 0;\n          padding: 1rem;\n          border: 1px solid #dfe1e5;\n          border-radius: 4px;\n          text-align: center;\n          box-shadow: 0px 0px 6px 6px #f7f7f7;\n          box-sizing: border-box;\n        }\n      `}</style>\n    </>\n  );\n};\n\nexport default Login;","import React from \"react\"\nimport { Parallax, Background } from \"react-parallax\"\n\nconst styles = {\n\tfontFamily: \"sans-serif\",\n\ttextAlign: \"center\",\n}\n\nconst insideStyles = {\n\t// background: \"white\",\n\tpadding: 20,\n\tposition: \"absolute\",\n\tfontFamily: \"ballada\",\n\tcolor: \"palevioletred\",\n\tfontSize: \"5rem\",\n    width:\"100vw\",\n\ttop: \"50%\",\n\tleft: \"50%\",\n\ttransform: \"translate(-50%,-50%)\",\n}\n\nconst paragraphStyle = {\n\tpadding: 10,\n\tposition: \"absolute\",\n\tcolor: \"white\",\n\tbackgroundColor: \"palevioletred\",\n    borderRadius:\"25px\",\n\tfontSize: \"1rem\",\n\ttop: \"90%\",\n\tleft: \"50%\",\n\ttransform: \"translate(-50%,-70%)\",\n}\n\n\nconst image1 =\n\trequire(\"./newimages/helena-lopes-Vrb_vtQAxJU-unsplash.jpg\").default\n\nconst image2 =\n\trequire(\"./newimages/coplerunning.png\").default\nconst image3 =\n\trequire(\"./newimages/hearts.png\").default\nconst image4 =\n\trequire(\"./newimages/cake2.png\").default\n\nconst image5 = require(\"./newimages/flowers.png\").default\n\n\n\n\n    const Landing = () => {\n        return (\n            <div>\n                <Parallax\n                    // blur={{min:-15, max:15}}\n                    bgImage={\n                        image5\n                    }\n                    strength={-200}\n                >\n                    <div style={{ height: \"140vh\" }} />\n                    <h1 style={insideStyles}>The Big Day</h1>\n                </Parallax>\n                {/* <h1>\n                    {\" \"}\n                    ------------------------------------------------\n                </h1> */}\n                <div style={styles}>\n                    <Parallax bgImage={image1} strength={500}>\n                        <div style={{ height: \"100vh\" }}>\n                            <div style={insideStyles}>\n                                We are here to help!\n                            </div>\n                            <div style={paragraphStyle}>\n                                <p>\n                                    Planning a wedding can be a very magical but\n                                    strssful time.\n                                </p>\n                                <p>\n                                    {\" \"}\n                                    Let us take the stress out of it for you and\n                                    leave you to enjoy the magic\n                                </p>\n                            </div>\n                        </div>\n                    </Parallax>\n                    {/* <h2>| | |</h2> */}\n                    <Parallax\n                        bgImage={image2}\n                        blur={{ min: -1, max: 3 }}\n                    >\n                        <div style={{ height:\"120vh\" }}>\n                            <div style={insideStyles}>\n                                Send it in an Email\n                            </div>\n                            <div style={paragraphStyle}>\n                            <p>Save time (and the planet) and send all your invites electronically from one place</p> \n                            </div>\n                        </div>\n                    </Parallax>\n                    {/* <h2>| | |</h2> */}\n                    <Parallax bgImage={image3} strength={1000}>\n    \n                    <div style={{ height: 500 }}>\n                            <div style={insideStyles}>Track it all</div>\n                            <div style={paragraphStyle}>\n                            <p>For your peace of mind, track your guests' RSVPs and Menu choices from our app</p>\n                            </div>\n                        </div>\n                        \n                    </Parallax>\n                    {/* <h2>| | |</h2> */}\n                    <Parallax\n                        bgImage={image4}\n                        strength={200}\n                        \n                        renderLayer={(percentage) => (\n                            <div>\n                               \n                                    <div\n                                        style={{\n                                            position: \"absolute\",\n                                            background: `rgba(255, 125, 0, ${\n                                                percentage * 1\n                                            })`,\n                                            left: \"50%\",\n                                            top: \"50%\",\n                                            borderRadius: \"50%\",\n                                            transform: \"translate(-50%,-50%)\",\n                                            width: percentage * 500,\n                                            height: percentage * 500,\n                                        }}\n                                    />\n                                \n                            </div>\n                        )}\n                    >\n                        <div style={{ height: 1000 }}>\n                            <div style={insideStyles}> <a href=\"/createuser\">Sign up now</a></div>\n                        </div>\n                    </Parallax>\n                    {/* <h2>| | |</h2> */}\n                    {/* <Parallax strength={500}>\n                        <Background className=\"custom-bg\">\n                            <div\n                                style={{\n                                    height: 2000,\n                                    width: 2000,\n                                    backgroundImage:\n                                        \"url('https://i.imgur.com/8CV5WAB.png')\",\n                                }}\n                            />\n                        </Background>\n                        <div>\n                            <br />\n                            custom background component\n                            <br />\n                            <br />\n                            custom background component\n                            <br />\n                            <br />\n                            custom background component\n                            <br />\n                            <br />\n                        </div>\n                    </Parallax> */}\n                    <div style={{ height: 500 }} />\n                    <h2>{\"\\u2728\"}</h2>\n                </div>\n            </div>\n        )\n    }\n\n\n\n\n\nexport default Landing","import React, { useEffect, useState } from \"react\";\n\nconst Clock = ({ deadline }) => {\n  const [days, setDays] = useState(0);\n  const [hours, setHours] = useState(0);\n  const [minutes, setMinutes] = useState(0);\n  const [seconds, setSeconds] = useState(0);\n\n  const leading0 = (num) => {\n    return num < 10 ? \"0\" + num : num;\n  };\n\n  const getTimeUntil = (deadline) => {\n    const time = Date.parse(deadline) - Date.parse(new Date());\n    if (time < 0) {\n      setDays(0);\n      setHours(0);\n      setMinutes(0);\n      setSeconds(0);\n    } else {\n      setDays(Math.floor(time / (1000 * 60 * 60 * 24)));\n      setHours(Math.floor((time / (1000 * 60 * 60)) % 24));\n      setMinutes(Math.floor((time / 1000 / 60) % 60));\n      setSeconds(Math.floor((time / 1000) % 60));\n    }\n  };\n\n  useEffect(() => {\n    setInterval(() => getTimeUntil(deadline), 1000);\n\n    return () => getTimeUntil(deadline);\n  }, [deadline]);\n\n  return (\n    <div>\n      <h5 className=\"Clock-days\">{leading0(days)} Days</h5>\n      <h5 className=\"Clock-hours\">{leading0(hours)} Hours</h5>\n      <h5 className=\"Clock-minutes\">{leading0(minutes)} Minutes</h5>\n      <h5 className=\"Clock-seconds\">{leading0(seconds)} Seconds</h5>\n    </div>\n  );\n};\n\nexport default Clock;\n","import React, { useState } from \"react\";\nimport Clock from \"./Clock.component\";\n\nconst CountDown = (props) => {\n  // let deadline = \"march, 7, 2022\";\n\n\n  return (\n    <div className=\"App\">\n      \n      <Clock deadline={props.deadline} />\n    </div>\n  );\n};\n\nexport default CountDown;\n","import React, {\n\tuseContext,\n\tuseEffect,\n\tuseState,\n} from \"react\"\nimport { PartyContext } from \"../../utils/partycontext\"\nimport { useQuery } from \"@apollo/client\"\nimport { WEDDING_QUERY } from \"../../utils/queries\"\n\nimport { useHistory } from \"react-router-dom\"\nimport { magic } from \"../../lib/magic\"\nimport { UserContext } from \"../../lib/UserContext\"\nimport Auth from \"../../utils/auth\"\nimport CountDown from \"../countdown/Count.component\"\nimport \"./viewweddingstyle.css\"\n\n\n// import Loading from './loading';\nconst Callback = (props) => {\n\tconst history = useHistory()\n\n\tconst [user, setUser] = useContext(UserContext)\n\tconst [organiserState, setOrganiserState] = useState(null)\n\tconst [currentUser, setCurrentUser] = useState(null)\n\tconst [currentID, setCurrentID] = useState(null)\n\n\tuseEffect(() => {\n\t\tconst { organiser } = Auth.loggedIn()\n\t\tconsole.log(\n\t\t\t\"this is the organiser from local storage\",\n\t\t\torganiser\n\t\t)\n\t\tsetCurrentUser(organiser.username)\n\t\tsetCurrentID(organiser._id)\n\t}, [])\n\n\tconsole.log(\"the currentUser is \", currentUser)\n\tconsole.log(\"the current ID is\", currentID)\n\t// function ViewWedding() {}\n\n\t// `loginWithCredential()` returns a didToken for the user logging in\n\tconst finishEmailRedirectLogin = () => {\n\t\tconst magicCredential = new URLSearchParams(\n\t\t\tprops.location.search\n\t\t).get(\"magic_credential\")\n\t\tif (magicCredential)\n\t\t\tmagic.auth\n\t\t\t\t.loginWithCredential()\n\t\t\t\t.then((didToken) =>\n\t\t\t\t\tauthenticateWithServer(didToken)\n\t\t\t\t)\n\t}\n\n\t// Send token to server to validate\n\tconst authenticateWithServer = async (didToken) => {\n\t\tconst res = await fetch(\n\t\t\t`${process.env.REACT_APP_SERVER_URL}/api/login`,\n\t\t\t{\n\t\t\t\tmethod: \"POST\",\n\t\t\t\theaders: {\n\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t\tAuthorization: \"Bearer \" + didToken,\n\t\t\t\t},\n\t\t\t}\n\t\t)\n\n\t\tif (res.status === 200) {\n\t\t\t// Set the UserContext to the now logged in user\n\t\t\tconst userMetadata = await magic.user.getMetadata()\n\t\t\tawait setUser(userMetadata)\n\t\t\t//   history.push('/profile');\n\t\t}\n\t}\n\n\tconst { loading, data } = useQuery(WEDDING_QUERY)\n\tif (loading) {\n\t\treturn <p> loading ...</p>\n\t}\n\n\tconsole.log(\n\t\t\"the wedding data from wedding query is\",\n\t\tdata\n\t)\n\n\tconst weddingData = data.weddings.filter((wedding) => {\n\t\t// const weddingID = \"61110f69077f5da76492affa\"\n\t\treturn wedding.wedding_owner == currentUser\n\t})\n\n\tconsole.log(\"the wedding data is \", data.weddings)\n\tconsole.log(\"the filtered wedding data is \", weddingData)\n\treturn (\n\t\t<div className=\"bigcontainer\">\n\t\t\t<h1> Welcome to your wedding</h1>\n\n\t\t\t<div>\n\t\t\t\t{weddingData.map((wedding) => (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<h2 className=\"heading\" style={{marginBottom: \"5vh\"}}>{wedding.bride_first_name} & {wedding.groom_first_name}</h2>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<p>you are getting married on</p>\n\t\t\t\t\t\t<h3 style={{marginBottom: \"5vh\"}}>{wedding.date}</h3>\n\t\t\t\t\t\t<p>that's in</p>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<CountDown style={{marginBottom: \"5vh\"}} deadline={wedding.date} />\n\t\t\t\t\t\t<p> You have invited your friends and family to join you at </p>\n\t\t\t\t\t\t<h3>{wedding.venue}</h3>\n\t\t\t\t\t\t<p> and you have offered them a menu choice of</p>\n\t\t\t\t\t\t<h2>{wedding.menu_choice}</h2>\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default Callback\n","export default __webpack_public_path__ + \"static/media/gl.f232ed18.jpg\";","export default __webpack_public_path__ + \"static/media/rose.bcee8332.png\";","export default __webpack_public_path__ + \"static/media/loc.d6d1f7fc.jpg\";","export default __webpack_public_path__ + \"static/media/clock.46432272.jpg\";","import React, { useState } from \"react\";\nimport \"../vendor/bootstrap.css\"\nimport { useMutation, useQuery } from \"@apollo/client\"\nimport { WEDDING_QUERY, GUEST_QUERY } from \"../utils/queries\"\nimport \"./guestlanding.css\"\nimport gl from \"../gl.jpg\"\nimport loc from \"../loc.jpg\"\nimport clock from \"../clock.jpg\"\nimport CountDown from \"../components/countdown/Count.component\"\nimport {UPDATE_RSVP, UPDATE_MENU} from \"../utils/mutations\"\n\n\n\n\nfunction GuestLanding() {\n\n    const [rsvpState, setRsvpState] = useState(null)\n    const [menuState,setMenuState] = useState(null)\n\n    const searchWedding = useQuery(WEDDING_QUERY)\n    console.log(\"all the weddings are :: \", searchWedding.data)\n\n    // to retreive guest email from local storage\n    const guestEmail = localStorage.getItem(\"guestEmail\")\n    console.log(\"the stored email is \", guestEmail)\n\n    const [update_rsvp, {error}] = useMutation(UPDATE_RSVP)\n    const [update_menu] = useMutation(UPDATE_MENU)\n\n\n    // search guest list for matching email\n    const { loading, data } = useQuery(GUEST_QUERY)\n    if (loading) {\n        return <p>loading</p>\n    }\n\n    const correctGuest = data.guests.filter((guest) => {\n        return guest.email == guestEmail\n\n    })\n\n    console.log(\"the correct guest is \", correctGuest)\n    console.log(\"the guest name is\", correctGuest[0].name)\n\n    // settin wedding owner based on logged in guest\n    const wedding_owner = correctGuest[0].wedding_owner\n    console.log(\"the wedding owner is\", wedding_owner)\n\n    // / filter wedding according to wedding owner \n const correctWedding = searchWedding.data.weddings.filter((wedding)=>{\n     return wedding.wedding_owner==wedding_owner\n })\nconsole.log(\"the correct wedding is\", correctWedding)\n\nconst groom = correctWedding[0].groom_first_name\nconst bride = correctWedding[0].bride_first_name\nconst weddingdate = correctWedding[0].date\nconst location = correctWedding[0].venue\n\n\n\nconsole.log (\"the bride and groom are\" , bride, groom)\nconsole.log (\"menu options as \")\n\nconst handleInput = (event) =>{\n    console.log(\"what is the rsvp choice \", event.target.value)\n    setRsvpState(event.target.value)\n    \n}\n\nconst handleInputFood = (event) =>{\n    console.log(\"what is the food\", event.target.value)\n    setMenuState(event.target.value)\n    \n}\n\nconsole.log(\"the rsvp state=\", rsvpState)\nconsole.log (\"the menustate is\", menuState)\nconst email = correctGuest[0].email\n\nconsole.log(\"the emai is \", email)\n\n\nconst handleSubmit = async (e) =>{\n    \n    e.preventDefault()\n\n try {\n     const {data} = await update_rsvp({\n         variables:{\n             rsvp: rsvpState,\n             email:email\n         }\n     })\n } catch(err) {\n     console.log(err)\n }\n\n}\n\n\nconst handleSubmitFood = async (e) =>{\n    e.preventDefault()\n\n    try {\n        const {data} = await update_menu({\n            variables:{\n                menu: menuState,\n                email:email\n            }\n        })\n    } catch(err) {\n        console.log(err)\n    }\n}\n\n    return (\n        <div className=\"bg container content d-flex flex-row p-2 justify-content-between\">\n            <div className=\"container content d-flex flex-row p-2 justify-content-between\">\n                <div className=\"row\">\n                    <div className=\"col-sm- talk\">\n                        <h1>{bride} & {groom}</h1>\n                        <h1>would love to welcome you to their wedding</h1>\n                        <h1>{correctGuest[0].name}</h1>\n                        <br />\n                        <img className=\"img\" src={gl}></img>\n                        \n                        \n\n                    \n                        \n                                    \n                                    \n                                \n                                <div className=\"container content d-flex flex-column p-2\">\n                        <form className=\"mb-5\" onSubmit={handleSubmit}>\n                            <h1><label for=\"Menu\">Please RSVP</label></h1>\n                            <select id=\"rsvp\" name=\"rsvp\" onChange={handleInput}>\n                                <option value=\"choose\">Choose</option>\n                                <option value=\"yes\">Yes</option>\n                                <option value=\"no\">No</option>\n                                \n                            </select>\n                            <input type=\"submit\" value=\"Submit\" />\n                            </form>\n                            \n                           \n                            <form onSubmit={handleSubmitFood}>\n                            <h1><label for=\"Menu\">Choose your preferred Menu:</label></h1>\n                            <select id=\"menu\" name=\"mwnu\" onChange={handleInputFood}>\n                                <option vlaue=\"choose\"> Choose</option>\n                                <option value=\"vegan\">Vegan</option>\n                                <option value=\"vegeterian\">Vegeterian</option>\n                                <option value=\"meat\">Meat</option>\n                            </select>\n                            <input type=\"submit\" value=\"Submit\"/>\n                            </form>\n                            \n\n\n\n\n                    <div className=\"container content d-flex flex-column p-2\">\n                        <h1>We will Celebrate it at:<br/>{location}</h1>\n                        \n                        <img className=\"location\" src={loc}></img>\n                        <br />\n                    \n                        <h1>On <br /> {weddingdate}</h1>\n                        <br />\n                        <h6 className=\"bold-four\">\n                            We would love it if you could join us in our celebration. Please RSVP above to let us know.\n                            If you have any seperate diatery requirements please send us a message and we will do our best to accomnodate them.  \n                        </h6>\n                        <img src={clock} className=\"clock\" />\n                        <br />\n\n                        <h1>COUNTDOWN</h1>\n                        <CountDown deadline={weddingdate} />\n\n\n\n                    </div>\n                    </div>\n                    </div>\n                    </div>\n                    \n\n                </div>\n            </div>\n\n            );\n}\n\n            export default GuestLanding;","import React from \"react\"\r\nimport Auth from \"../utils/auth\"\r\n\r\nconst couplelogout=()=>{\r\n    Auth.logout()\r\n}\r\n\r\nexport const MenuItems=[\r\n    {\r\n        label:'Home',\r\n        url:'/',\r\n        cName:'nav-links'\r\n    },\r\n    {\r\n        label:'Create Wedding',\r\n        url:'/createwedding',\r\n        cName:'nav-links'\r\n    },\r\n    {\r\n        label:'My Wedding',\r\n        url:'/viewwedding',\r\n        cName:'nav-links'\r\n    },\r\n    {\r\n        label:'My Guests',\r\n        url:'/guests',\r\n        cName:'nav-links'\r\n    },\r\n    {\r\n        label:'Couple login',\r\n        url:'/home',\r\n        cName:'nav-links'\r\n    },\r\n   \r\n    {\r\n        label:'Signup',\r\n        url:'/createuser',\r\n        cName:'nav-links'\r\n    },\r\n  \r\n    \r\n\r\n\r\n]","import React, { useContext, Component } from \"react\"\r\nimport { MenuItems } from \"./items\"\r\nimport \"./nav2.css\"\r\nimport Auth from \"../utils/auth\"\r\nimport { useHistory } from \"react-router-dom\"\r\nimport { Link, useLocation } from \"react-router-dom\"\r\nimport { magic } from \"../lib/magic\"\r\n\r\nconst couplelogout = () => {\r\n\tAuth.logout()\r\n}\r\n\r\n\r\n\r\nconst guestlogout =() => {\r\n    \r\n        localStorage.removeItem(\"guestEmail\")\r\n}\r\n\r\n\r\n\r\n\r\nclass Nav2 extends Component {\r\n\tstate = { clicked: false}\r\n   \r\n\t// Location = () =>useLocation()\r\n\t// History =()=> useHistory()\r\n\r\n\tcouplelogout = () => {\r\n\t\tAuth.logout()\r\n\t}\r\n\r\n\thandleClick = () => {\r\n\t\tthis.setState({ clicked: !this.state.clicked })\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<nav className=\"NavBarItems\">\r\n\t\t\t\t{/* <h1 className=\"navbar-logo\" href=\"/\"> <i className=\"fas fa-fan\"></i></h1> */}\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName=\"menu-icon\"\r\n\t\t\t\t\tonClick={this.handleClick}\r\n\t\t\t\t>\r\n\t\t\t\t\t<i\r\n\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\tthis.state.clicked\r\n\t\t\t\t\t\t\t\t? \"fas fa-times\"\r\n\t\t\t\t\t\t\t\t: \"fas fa-bars\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t></i>\r\n\t\t\t\t</div>\r\n\t\t\t\t<ul\r\n\t\t\t\t\tclassName={\r\n\t\t\t\t\t\tthis.state.clicked\r\n\t\t\t\t\t\t\t? \"nav-menu active\"\r\n\t\t\t\t\t\t\t: \"nav-menu\"\r\n\t\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t\t{MenuItems.map((item, index) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<li kew={index} onClick={item.function}>\r\n\t\t\t\t\t\t\t\t<a className={item.cName} href={item.url}>\r\n\t\t\t\t\t\t\t\t\t{item.label}\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t})}\r\n\t\t\t\t\t<li className=\"nav-links\" onClick={couplelogout}>\r\n\t\t\t\t\t\tLogout\r\n\t\t\t\t\t</li>\r\n\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<a className=\"nav-links\" href=\"/login\">Guest Login</a>\r\n\t\t\t\t\t</li>\r\n\r\n                    <li className=\"nav-links\" onClick={guestlogout}>\r\n                        Guest Logout\r\n                    </li> \r\n\t\t\t\t</ul>\r\n\t\t\t</nav>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Nav2\r\n","import React, { useState, useContext, useMemo, useEffect } from \"react\"\nimport {\n\tBrowserRouter as Router,\n\tRoute,HashRouter\n} from \"react-router-dom\"\nimport \"./App.css\"\nimport CreateWedding from \"./components/createwedding/createwedding.form\"\nimport Guests from \"./components/Guests\"\nimport Home from \"./components/Home\"\nimport Createuser from \"./components/createuser\"\nimport Login from \"./components/login\"\nimport Header from \"./components/header\"\nimport { magic } from './lib/magic';\nimport { UserContext } from './lib/UserContext';\nimport Landing from \"./components/landing/landing.page\"\nimport ViewWedding from \"./components/viewwedding/viewwedding.page\"\nimport {\n\tApolloClient,\n\tApolloProvider,\n\tcreateHttpLink,\n\tInMemoryCache,\n} from \"@apollo/client\"\nimport { setContext } from \"@apollo/client/link/context\"\nimport { PartyProvider, usePartyContext } from \"./utils/partycontext\"\nimport Auth from \"./utils/auth\"\nimport NavBar from './components/NavBar'\nimport GuestLanding from './components/GuestLanding'\nimport { slide as Menu } from 'react-burger-menu'\nimport createuser from './components/createuser'\nimport Nav3 from \"./components/Nav3\"\n\n\n\nconst httpLink = createHttpLink({\n\turi: \"/graphql\",\n\t// credentials: \"same-origin\"\n})\n\nconst authLink = setContext((_, { headers }) => {\n\t// get the authentication token from local storage if it exists\n\tconst token = localStorage.getItem(\"id_token\")\n\t// const localUser = localStorage.getItem(\"user\")\n\t// \tconst organiser = JSON.parse(localUser)\n\t// return the headers to the context so httpLink can read them\n\treturn {\n\t\theaders: {\n\t\t\t...headers,\n\t\t\tauthorization: token ? `Bearer ${token}` : \"\",\n\t\t},\n\t}\n})\n\nconst client = new ApolloClient({\n\tlink: authLink.concat(httpLink),\n\tcache: new InMemoryCache(),\n})\n\n\nfunction App() {\n\tconst partycontext = usePartyContext()\n\tconsole.log(\"party context=\", partycontext)\n\tconst [user, setUser] = useState();\n\tconst [openMenu, setOpenMenu] = useState(false)\n\n\tuseEffect(() => {\n\t\tconst { organiser } = Auth.loggedIn()\n\t\tconsole.log(\"this is the organiser from local storage\", organiser)\n\t}, [])\n\t// If isLoggedIn is true, set the UserContext with user data\n\t// Otherwise, set it to {user: null}\n\tuseEffect(() => {\n\t\tsetUser({ loading: true });\n\t\tmagic.user.isLoggedIn().then((isLoggedIn) => {\n\t\t\treturn isLoggedIn\n\t\t\t\t? magic.user.getMetadata().then((userData) => setUser(userData))\n\t\t\t\t: setUser({ user: null });\n\t\t});\n\t}, []);\n\n\treturn (\n\t\t<ApolloProvider client={client}>\n\t\t\t<PartyProvider>\n\t\t\t\t<Router>\n\n\t\t\t\t\t<UserContext.Provider value={[user, setUser]}>\n\n\n\n\n\t\t\t\t\t\t<div className=\"App\">\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<Nav3 />\n\t\t\t\t\t\t\t\t<Route exact path=\"/\" component={Landing} />\n\t\t\t\t\t\t\t</div>\n\n\n\n\t\t\t\t\t\t\t<Route exact path=\"/Home\" component={Home} />\n\t\t\t\t\t\t\t<Route exact path=\"/login\" component={Login} />\n\t\t\t\t\t\t\t<Route exact path=\"/guestlanding\" component={GuestLanding} />\n\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\tpath=\"/guests\"\n\t\t\t\t\t\t\t\tcomponent={Guests}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\tpath=\"/createwedding\"\n\t\t\t\t\t\t\t\tcomponent={CreateWedding}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\tpath=\"/viewwedding\"\n\t\t\t\t\t\t\t\tcomponent={ViewWedding}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\tpath=\"/createuser\"\n\t\t\t\t\t\t\t\tcomponent={createuser}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</UserContext.Provider>\n\n\t\t\t\t</Router>\n\t\t\t</PartyProvider>\n\t\t</ApolloProvider>\n\t)\n}\n// only changes provider value if one of the params change (may need to remove)\n// const value = useMemo(()=>({organiser, setOrganiser}),[organiser,setOrganiser])\n\n\n\n\nexport default App\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}